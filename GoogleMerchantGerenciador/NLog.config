<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      autoReload="true"
      internalLogLevel="Info"
      internalLogFile="c:\temp\internal-nlog-AspNetCore.txt">


    <!-- enable asp.net core layout renderers -->
    <extensions>
        <add assembly="NLog.Web.AspNetCore"/>
    </extensions>

    <!-- the targets to write to -->
    <targets>

        <target xsi:type="File" name="file" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}.log"
                layout="${longdate} ${uppercase:${level}} ${message}"/>

        <target xsi:type="File" name="filewarn" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}-warn.log"
                layout="${longdate} ${uppercase:${level}} ${message}"/>
        <target xsi:type="File" name="filepromo" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}-promo.log"
                layout="${longdate} ${uppercase:${level}} ${message}"/>
        <target xsi:type="File" name="filestock" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}-stock.log"
                layout="${longdate} ${uppercase:${level}} ${message}"/>
        <target xsi:type="File" name="fileprice" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}-price.log"
                layout="${longdate} ${uppercase:${level}} ${message}"/>
        <target xsi:type="File" name="filelabel" fileName="${basedir}/logs/${date:format=yyyy-MM-dd}-label.log"
                layout="${longdate} ${uppercase:${level}} ${message}"/>

        <target xsi:type="Console" name="console"
                layout="${longdate} ${uppercase:${level}} ${message}"/>
    </targets>

    <!-- rules to map from logger name to target -->
    <rules>
        <logger name="*" minlevel="Debug" writeTo="file"/>
        <logger name="*" minlevel="Warn" writeTo="filewarn"/>
        <logger name="*" minlevel="Debug" writeTo="console"/>
        <logger name="promo" minlevel="Debug" writeTo="filepromo"/>
        <logger name="price" minlevel="Debug" writeTo="fileprice"/>
        <logger name="stock" minlevel="Debug" writeTo="filestock"/>
        <logger name="label" minlevel="Debug" writeTo="filelabel"/>

    </rules>
</nlog>